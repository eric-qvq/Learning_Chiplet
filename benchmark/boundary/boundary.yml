# Phase 1 configuration.
phase1:
  # GPU worker at (0,1)
  - cmd: "$BENCHMARK_ROOT/bin/boundary_cu"
    args: ["0", "1"]
    log: "boundary.0.1.log"
    is_to_stdout: false
#    env: { PTX_SIM_MODE_FUNC: "1" }
    clock_rate: 1
    pre_copy: "$SIMULATOR_ROOT/gpgpu-sim/configs/tested-cfgs/SM2_GTX480/*"
  # GPU worker at (1,0)
  - cmd: "$BENCHMARK_ROOT/bin/boundary_cu"
    args: ["1", "0"]
    log: "boundary.1.0.log"
    is_to_stdout: false
#    env: { PTX_SIM_MODE_FUNC: "1" }
    clock_rate: 1
    pre_copy: "$SIMULATOR_ROOT/gpgpu-sim/configs/tested-cfgs/SM2_GTX480/*"
  # GPU worker at (1,1)
  - cmd: "$BENCHMARK_ROOT/bin/boundary_cu"
    args: ["1", "1"]
    log: "boundary.1.1.log"
    is_to_stdout: false
#    env: { PTX_SIM_MODE_FUNC: "1" }
    clock_rate: 1
    pre_copy: "$SIMULATOR_ROOT/gpgpu-sim/configs/tested-cfgs/SM2_GTX480/*"
  # CPU driver at (0,0)
  - cmd: "$SIMULATOR_ROOT/snipersim/run-sniper"
    args: ["--", "$BENCHMARK_ROOT/bin/boundary_cpu", "0", "0"]
    log: "sniper.0.0.log"
    is_to_stdout: false
    clock_rate: 1


# Phase 2 configuration.
phase2:
  # PopNet trace replay / NoC simulation
  - cmd: "$SIMULATOR_ROOT/popnet_chiplet/build/popnet"
    args: ["-A", "2", "-c", "2", "-V", "3", "-B", "12", "-O", "12", "-F", "4", "-L", "1000", "-T", "5000000000", "-r", "1", "-I", "../bench.txt", "-R", "0", "-D", "../delayInfo.txt", "-P"]
    log: "popnet.log"
    is_to_stdout: false
    clock_rate: 1

# File configuration.
bench_file: "./bench.txt"
delayinfo_file: "./delayInfo.txt"
